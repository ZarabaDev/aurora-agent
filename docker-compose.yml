services:
  aurora:
    build: .
    container_name: aurora_bot
    restart: always  # Renasce das cinzas se cair ou o server reiniciar
    volumes:
      # - ./:/app      <-- DESATIVADO PARA PRODUÇÃO: Usa o código de dentro da imagem (COPY . .)
      # Mantém apenas os dados persistentes (Memória do Agente)
      - aurora_data:/app/data/vector_store
      - ./data/logs:/app/data/logs
      # Excluir venv local para não conflitar (opcional já que não estamos mais montando o root)
      # - /app/venv
    env_file:
      - .env
    ports:
      - "5001:5001"
    command: python web_server.py
    # Se quiser ver logs bonitos ou interagir (opcional)
    tty: true 
    stdin_open: true

volumes:
  aurora_data:
